"use strict";function setCookie(e,t){var a=new Date;a.setDate(a.getDate()+3),document.cookie=e+"="+t+";expires="+a.toString()}function getCookie(e){for(var t=document.cookie.split("; "),a=0;a<t.length;a++){var l=t[a].split("=");return l[0]==e?l[1]:0}}var $un=$("#txt"),$pw=$("#pw"),$logBtn=$("#log-btn"),$regBtn=$("#reg-btn");$logBtn.on("click",function(){var e=$un.val();e=$.trim(e);var t=$pw.val();t=$.trim(t);var a=getCookie(e);if(0==a){var l=$("<p>用户名错误</p>");return $(".defeat")[0].style.display="block",$(".defeat").html(""),void $(".defeat").append(l)}if(a!=t){l=$("<p>密码错误</p>");return $(".defeat")[0].style.display="block",$(".defeat").html(""),void $(".defeat").append(l)}$(".defeat")[0].style.display="none";l=$("<p>"+e+"欢迎回来<a href='http://localhost:8080'>喵,快乐购物</a></p>");$(".box")[0].style.display="none",$(".success")[0].style.display="block",$(".success").html(""),$(".success").append(l)}),$regBtn.on("click",function(){$(".defeat")[0].style.display="none";var e=$un.val();e=$.trim(e);var t=$pw.val();t=$.trim(t);if(!/^([a-z_]\w{2,5})|([\u4E00-\u9FA0]{2,4})$/.test(e)){var a=$("<p>3-6位,非数字开头</p>");return $(".defeat")[0].style.display="block",$(".defeat").html(""),void $(".defeat").append(a)}if(!/^\d{6}$/.test(t)){a=$("<p>密码必须6位数字</p>");return $(".defeat")[0].style.display="block",$(".defeat").html(""),void $(".defeat").append(a)}if($(".defeat")[0].style.display="none",setCookie(e,t),getCookie(e)==t){a=$("<p>"+e+"注册成功<a href='#' class='log-click'>点击登陆</a></p>"),$("");$(".box")[0].style.display="none",$(".success")[0].style.display="block",$(".success").html(""),$(".success").append(a),$(".log-click").on("click",function(){location.reload()})}});